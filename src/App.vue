<template>
  <div>
    <header>
      <div class="px-3 text-bg-dark border-bottom">
        <div class="container">
          <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="/" class="d-flex align-items-center my-2 my-lg-0 me-lg-auto text-white text-decoration-none">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="250"
                zoomAndPan="magnify" viewBox="0 0 224.87999 79.499998" height="106" preserveAspectRatio="xMidYMid meet"
                version="1.0">
                <defs>
                  <g />
                  <clipPath id="d80ee0c7b5">
                    <path d="M 2.609375 23 L 60.746094 23 L 60.746094 30 L 2.609375 30 Z M 2.609375 23 "
                      clip-rule="nonzero" />
                  </clipPath>
                  <clipPath id="8739f7f68d">
                    <path d="M 24 19.898438 L 39 19.898438 L 39 39 L 24 39 Z M 24 19.898438 " clip-rule="nonzero" />
                  </clipPath>
                  <clipPath id="4b873adc3d">
                    <path
                      d="M 5.425781 47.226562 L 57.671875 47.226562 L 57.671875 63.640625 L 5.425781 63.640625 Z M 5.425781 47.226562 "
                      clip-rule="nonzero" />
                  </clipPath>
                </defs>
                <g clip-path="url(#d80ee0c7b5)">
                  <path fill="#ffffff"
                    d="M 2.613281 23.605469 L 2.613281 29.351562 L 22.765625 29.351562 L 22.765625 23.605469 Z M 60.484375 29.351562 L 40.332031 29.351562 L 40.332031 23.605469 L 60.484375 23.605469 L 60.484375 29.351562 "
                    fill-opacity="1" fill-rule="nonzero" />
                </g>
                <g clip-path="url(#8739f7f68d)">
                  <path fill="#ffffff"
                    d="M 38.78125 22.820312 L 38.78125 35.542969 C 38.78125 36.941406 37.648438 38.074219 36.253906 38.074219 L 26.847656 38.074219 C 25.449219 38.074219 24.316406 36.941406 24.316406 35.542969 L 24.316406 19.898438 L 38.78125 19.898438 L 38.78125 22.820312 "
                    fill-opacity="1" fill-rule="nonzero" />
                </g>
                <path fill="#ffffff"
                  d="M 29.257812 39.523438 L 33.839844 39.523438 L 33.839844 42.21875 L 31.964844 45.859375 C 31.789062 46.199219 31.308594 46.199219 31.132812 45.863281 L 29.257812 42.21875 L 29.257812 39.523438 "
                  fill-opacity="1" fill-rule="nonzero" />
                <g clip-path="url(#4b873adc3d)">
                  <path fill="#ffffff"
                    d="M 56.539062 63.640625 L 10.066406 63.640625 C 7.570312 63.640625 5.539062 61.609375 5.539062 59.113281 C 5.539062 56.613281 7.570312 54.582031 10.066406 54.582031 L 24.535156 54.582031 C 27.917969 54.582031 30.671875 51.828125 30.671875 48.441406 C 30.671875 47.960938 31.0625 47.566406 31.550781 47.566406 C 32.035156 47.566406 32.425781 47.960938 32.425781 48.441406 C 32.425781 52.792969 28.886719 56.335938 24.535156 56.335938 L 10.066406 56.335938 C 8.535156 56.335938 7.289062 57.578125 7.289062 59.113281 C 7.289062 60.640625 8.535156 61.886719 10.066406 61.886719 L 56.539062 61.886719 C 57.023438 61.886719 57.414062 62.28125 57.414062 62.765625 C 57.414062 63.25 57.023438 63.640625 56.539062 63.640625 "
                    fill-opacity="1" fill-rule="nonzero" />
                </g>
                <path stroke-linecap="round"
                  transform="matrix(0.745303, 0.00376976, -0.00376976, 0.745303, 55.922423, 61.808492)" fill="none"
                  stroke-linejoin="miter" d="M 1.500592 1.502 L 196.204365 1.502521 " stroke="#ffffff" stroke-width="3"
                  stroke-opacity="1" stroke-miterlimit="4" />
                <g fill="#ffffff" fill-opacity="1">
                  <g transform="translate(35.786949, 56.635298)">
                    <g>
                      <path
                        d="M 7.421875 0.171875 C 6.273438 0.171875 5.25 -0.03125 4.34375 -0.4375 C 3.4375 -0.84375 2.722656 -1.40625 2.203125 -2.125 C 1.691406 -2.851562 1.429688 -3.6875 1.421875 -4.625 L 3.828125 -4.625 C 3.910156 -3.8125 4.25 -3.128906 4.84375 -2.578125 C 5.4375 -2.023438 6.296875 -1.75 7.421875 -1.75 C 8.503906 -1.75 9.351562 -2.015625 9.96875 -2.546875 C 10.59375 -3.085938 10.90625 -3.78125 10.90625 -4.625 C 10.90625 -5.289062 10.722656 -5.832031 10.359375 -6.25 C 9.992188 -6.664062 9.535156 -6.976562 8.984375 -7.1875 C 8.441406 -7.40625 7.707031 -7.640625 6.78125 -7.890625 C 5.632812 -8.191406 4.710938 -8.488281 4.015625 -8.78125 C 3.328125 -9.082031 2.738281 -9.550781 2.25 -10.1875 C 1.757812 -10.832031 1.515625 -11.695312 1.515625 -12.78125 C 1.515625 -13.726562 1.753906 -14.566406 2.234375 -15.296875 C 2.722656 -16.023438 3.398438 -16.585938 4.265625 -16.984375 C 5.140625 -17.378906 6.140625 -17.578125 7.265625 -17.578125 C 8.898438 -17.578125 10.234375 -17.171875 11.265625 -16.359375 C 12.304688 -15.546875 12.894531 -14.46875 13.03125 -13.125 L 10.53125 -13.125 C 10.445312 -13.789062 10.097656 -14.375 9.484375 -14.875 C 8.867188 -15.382812 8.054688 -15.640625 7.046875 -15.640625 C 6.097656 -15.640625 5.320312 -15.394531 4.71875 -14.90625 C 4.125 -14.414062 3.828125 -13.734375 3.828125 -12.859375 C 3.828125 -12.222656 4.003906 -11.703125 4.359375 -11.296875 C 4.722656 -10.898438 5.164062 -10.597656 5.6875 -10.390625 C 6.207031 -10.191406 6.941406 -9.957031 7.890625 -9.6875 C 9.035156 -9.375 9.957031 -9.0625 10.65625 -8.75 C 11.351562 -8.445312 11.953125 -7.972656 12.453125 -7.328125 C 12.953125 -6.691406 13.203125 -5.828125 13.203125 -4.734375 C 13.203125 -3.890625 12.976562 -3.09375 12.53125 -2.34375 C 12.082031 -1.59375 11.414062 -0.984375 10.53125 -0.515625 C 9.65625 -0.0546875 8.617188 0.171875 7.421875 0.171875 Z M 7.421875 0.171875 " />
                    </g>
                  </g>
                </g>
                <g fill="#ffffff" fill-opacity="1">
                  <g transform="translate(50.402314, 56.635298)">
                    <g>
                      <path
                        d="M 13.53125 -12.28125 C 13.53125 -10.832031 13.035156 -9.628906 12.046875 -8.671875 C 11.054688 -7.722656 9.546875 -7.25 7.515625 -7.25 L 4.1875 -7.25 L 4.1875 0 L 1.921875 0 L 1.921875 -17.359375 L 7.515625 -17.359375 C 9.472656 -17.359375 10.960938 -16.882812 11.984375 -15.9375 C 13.015625 -14.988281 13.53125 -13.769531 13.53125 -12.28125 Z M 7.515625 -9.109375 C 8.785156 -9.109375 9.71875 -9.382812 10.3125 -9.9375 C 10.90625 -10.488281 11.203125 -11.269531 11.203125 -12.28125 C 11.203125 -14.414062 9.972656 -15.484375 7.515625 -15.484375 L 4.1875 -15.484375 L 4.1875 -9.109375 Z M 7.515625 -9.109375 " />
                    </g>
                  </g>
                </g>
                <g fill="#ffffff" fill-opacity="1">
                  <g transform="translate(64.818481, 56.635298)">
                    <g>
                      <path
                        d="M 4.1875 -17.359375 L 4.1875 0 L 1.921875 0 L 1.921875 -17.359375 Z M 4.1875 -17.359375 " />
                    </g>
                  </g>
                </g>
                <g fill="#ffffff" fill-opacity="1">
                  <g transform="translate(70.943482, 56.635298)">
                    <g>
                      <path
                        d="M 11.0625 0 L 6.921875 -7.09375 L 4.1875 -7.09375 L 4.1875 0 L 1.921875 0 L 1.921875 -17.359375 L 7.515625 -17.359375 C 8.828125 -17.359375 9.9375 -17.132812 10.84375 -16.6875 C 11.75 -16.238281 12.425781 -15.628906 12.875 -14.859375 C 13.320312 -14.097656 13.546875 -13.226562 13.546875 -12.25 C 13.546875 -11.050781 13.203125 -9.992188 12.515625 -9.078125 C 11.828125 -8.171875 10.796875 -7.566406 9.421875 -7.265625 L 13.765625 0 Z M 4.1875 -8.921875 L 7.515625 -8.921875 C 8.742188 -8.921875 9.664062 -9.222656 10.28125 -9.828125 C 10.894531 -10.429688 11.203125 -11.238281 11.203125 -12.25 C 11.203125 -13.28125 10.898438 -14.078125 10.296875 -14.640625 C 9.691406 -15.203125 8.765625 -15.484375 7.515625 -15.484375 L 4.1875 -15.484375 Z M 4.1875 -8.921875 " />
                    </g>
                  </g>
                </g>
                <g fill="#ffffff" fill-opacity="1">
                  <g transform="translate(86.081709, 56.635298)">
                    <g>
                      <path
                        d="M 12.171875 -3.859375 L 4.609375 -3.859375 L 3.21875 0 L 0.828125 0 L 7.09375 -17.265625 L 9.71875 -17.265625 L 15.96875 0 L 13.578125 0 Z M 11.53125 -5.703125 L 8.390625 -14.46875 L 5.25 -5.703125 Z M 11.53125 -5.703125 " />
                    </g>
                  </g>
                </g>
                <g fill="#ffffff" fill-opacity="1">
                  <g transform="translate(102.863227, 56.635298)">
                    <g>
                      <path
                        d="M 4.1875 -1.84375 L 10.265625 -1.84375 L 10.265625 0 L 1.921875 0 L 1.921875 -17.359375 L 4.1875 -17.359375 Z M 4.1875 -1.84375 " />
                    </g>
                  </g>
                </g>
                <g fill="#ffffff" fill-opacity="1">
                  <g transform="translate(113.619342, 56.635298)">
                    <g />
                  </g>
                </g>
                <g fill="#ffffff" fill-opacity="1">
                  <g transform="translate(120.267218, 56.635298)">
                    <g>
                      <path
                        d="M 19.53125 -17.234375 L 19.53125 0 L 17.265625 0 L 17.265625 -12.859375 L 11.53125 0 L 9.9375 0 L 4.1875 -12.875 L 4.1875 0 L 1.921875 0 L 1.921875 -17.234375 L 4.359375 -17.234375 L 10.734375 -2.984375 L 17.109375 -17.234375 Z M 19.53125 -17.234375 " />
                    </g>
                  </g>
                </g>
                <g fill="#ffffff" fill-opacity="1">
                  <g transform="translate(141.704747, 56.635298)">
                    <g>
                      <path
                        d="M 12.171875 -3.859375 L 4.609375 -3.859375 L 3.21875 0 L 0.828125 0 L 7.09375 -17.265625 L 9.71875 -17.265625 L 15.96875 0 L 13.578125 0 Z M 11.53125 -5.703125 L 8.390625 -14.46875 L 5.25 -5.703125 Z M 11.53125 -5.703125 " />
                    </g>
                  </g>
                </g>
                <g fill="#ffffff" fill-opacity="1">
                  <g transform="translate(158.486265, 56.635298)">
                    <g>
                      <path
                        d="M 11.328125 0 L 4.1875 -7.921875 L 4.1875 0 L 1.921875 0 L 1.921875 -17.359375 L 4.1875 -17.359375 L 4.1875 -9.3125 L 11.359375 -17.359375 L 14.21875 -17.359375 L 6.34375 -8.671875 L 14.296875 0 Z M 11.328125 0 " />
                    </g>
                  </g>
                </g>
                <g fill="#ffffff" fill-opacity="1">
                  <g transform="translate(173.400412, 56.635298)">
                    <g>
                      <path
                        d="M 4.1875 -15.515625 L 4.1875 -9.71875 L 10.515625 -9.71875 L 10.515625 -7.84375 L 4.1875 -7.84375 L 4.1875 -1.875 L 11.25 -1.875 L 11.25 0 L 1.921875 0 L 1.921875 -17.390625 L 11.25 -17.390625 L 11.25 -15.515625 Z M 4.1875 -15.515625 " />
                    </g>
                  </g>
                </g>
                <g fill="#ffffff" fill-opacity="1">
                  <g transform="translate(186.173289, 56.635298)">
                    <g>
                      <path
                        d="M 11.0625 0 L 6.921875 -7.09375 L 4.1875 -7.09375 L 4.1875 0 L 1.921875 0 L 1.921875 -17.359375 L 7.515625 -17.359375 C 8.828125 -17.359375 9.9375 -17.132812 10.84375 -16.6875 C 11.75 -16.238281 12.425781 -15.628906 12.875 -14.859375 C 13.320312 -14.097656 13.546875 -13.226562 13.546875 -12.25 C 13.546875 -11.050781 13.203125 -9.992188 12.515625 -9.078125 C 11.828125 -8.171875 10.796875 -7.566406 9.421875 -7.265625 L 13.765625 0 Z M 4.1875 -8.921875 L 7.515625 -8.921875 C 8.742188 -8.921875 9.664062 -9.222656 10.28125 -9.828125 C 10.894531 -10.429688 11.203125 -11.238281 11.203125 -12.25 C 11.203125 -13.28125 10.898438 -14.078125 10.296875 -14.640625 C 9.691406 -15.203125 8.765625 -15.484375 7.515625 -15.484375 L 4.1875 -15.484375 Z M 4.1875 -8.921875 " />
                    </g>
                  </g>
                </g>
                <path stroke-linecap="butt"
                  transform="matrix(0.394075, 0.63261, -0.63261, 0.394075, 199.375547, 56.228494)" fill="none"
                  stroke-linejoin="miter" d="M 0.000200963 1.50147 L 8.720191 1.49962 " stroke="#ffffff"
                  stroke-width="3" stroke-opacity="1" stroke-miterlimit="4" />
              </svg>
            </a>

            <ul class="nav col-12 col-lg-auto my-2 justify-content-center my-md-0 text-small">
              <li>
                <router-link to="/" class="nav-link" exact data-bs-toggle="tooltip" title="Accueil">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="icon-white me-2" width="30"
                    height="30">
                    <path
                      d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z" />
                  </svg>
                </router-link>
              </li>
              <li>
                <router-link to="/produits" class="nav-link" data-bs-toggle="tooltip" title="Boutique">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" class="icon-white me-2" width="30"
                    height="30">
                    <path
                      d="M36.8 192H603.2c20.3 0 36.8-16.5 36.8-36.8c0-7.3-2.2-14.4-6.2-20.4L558.2 21.4C549.3 8 534.4 0 518.3 0H121.7c-16 0-31 8-39.9 21.4L6.2 134.7c-4 6.1-6.2 13.2-6.2 20.4C0 175.5 16.5 192 36.8 192zM64 224V384v80c0 26.5 21.5 48 48 48H336c26.5 0 48-21.5 48-48V384 224H320V384H128V224H64zm448 0V480c0 17.7 14.3 32 32 32s32-14.3 32-32V224H512z" />
                  </svg>
                </router-link>
              </li>
              <li>
                <router-link to="/blog" class="nav-link" data-bs-toggle="tooltip" title="Blog">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon-white me-2" width="30"
                    height="30">
                    <path
                      d="M96 0C43 0 0 43 0 96V416c0 53 43 96 96 96H384h32c17.7 0 32-14.3 32-32s-14.3-32-32-32V384c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H384 96zm0 384H352v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16zm16 48H336c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16z" />
                  </svg>
                </router-link>
              </li>
              <li>
                <router-link to="/contact" class="nav-link" data-bs-toggle="tooltip" title="Contact">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon-white me-2" width="30"
                    height="30">
                    <path
                      d="M96 0C60.7 0 32 28.7 32 64V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H96zM208 288h64c44.2 0 80 35.8 80 80c0 8.8-7.2 16-16 16H144c-8.8 0-16-7.2-16-16c0-44.2 35.8-80 80-80zm-32-96a64 64 0 1 1 128 0 64 64 0 1 1 -128 0zM512 80c0-8.8-7.2-16-16-16s-16 7.2-16 16v64c0 8.8 7.2 16 16 16s16-7.2 16-16V80zM496 192c-8.8 0-16 7.2-16 16v64c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm16 144c0-8.8-7.2-16-16-16s-16 7.2-16 16v64c0 8.8 7.2 16 16 16s16-7.2 16-16V336z" />
                  </svg>
                </router-link>
              </li>
              <li>
                <router-link to="/panier" class="nav-link position-relative" exact data-bs-toggle="tooltip"
                  title="Panier">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" class="icon-white" width="30"
                    height="30">
                    <path
                      d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z" />
                  </svg>
                  <span v-if="cartItems.length > 0"
                    class="position-absolute top-3 start-90 translate-middle badge rounded-pill bg-danger">
                    {{ cartItems.length }}
                    <span class="visually-hidden">articles dans le panier</span>
                  </span>
                </router-link>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="px-3 py-2 border-bottom mb-3">
        <div class="container d-flex flex-wrap justify-content-center">
          <form class="col-12 col-lg-auto mb-2 mb-lg-0 me-lg-auto" role="search">
            <input type="search" class="form-control" placeholder="Rechercher" aria-label="Search">
          </form>

          <div class="text-end">
            <router-link to="/connexion" class="btn btn-light text-dark me-2">Se connecter</router-link>
            <router-link to="/inscription" class="btn btn-primary">S'enregistrer</router-link>
          </div>
        </div>
      </div>
    </header>

    <router-view />

    <footer class="bg-dark text-white mt-5 p-4 text-center">
      <div class="container">
        <p>&copy; 2024 Damiodev. Tous droits réservés.</p>
        <p>
          <router-link to="/mentions-legales" class="text-white">Mentions légales</router-link> |
          <router-link to="/cgv" class="text-white">Conditions générales de vente</router-link> |
          <router-link to="/plan-du-site" class="text-white">Plan du site</router-link>
        </p>
      </div>
    </footer>
  </div>
</template>

<script>
import { useCartStore } from './store/cart';
import { computed, onMounted } from 'vue';
import { Tooltip } from 'bootstrap';

export default {
  setup() {
    const cartStore = useCartStore();
    const cartItems = computed(() => cartStore.items);

    onMounted(() => {
      // Activer les tooltips Bootstrap
      const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
      tooltipTriggerList.forEach(tooltipTriggerEl => new Tooltip(tooltipTriggerEl));
    });

    return {
      cartItems
    };
  }
};
</script>

<style>
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
}

.icon-white {
  fill: white;
}

.nav-link {
  color: white;
  text-decoration: none;
}

/* Ajoutez ce style pour changer la couleur de l'icône en bleu clair au survol */
.nav-link svg path:hover {
  fill: lightblue;
}

/* Ajoutez ce style pour changer la couleur de l'icône en bleu lorsque vous êtes sur la page correspondante */
.nav-link.router-link-active svg path {
  fill: #007bff;
}

/* Carousel */
.bd-placeholder-img {
  font-size: 1.125rem;
  text-anchor: middle;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
}

@media (min-width: 768px) {
  .bd-placeholder-img-lg {
    font-size: 3.5rem;
  }
}

footer {
  background-color: #343a40;
  padding: 1rem 0;
}

footer a {
  color: #ffffff;
  text-decoration: none;
}

footer a:hover {
  text-decoration: underline;
}
</style>
